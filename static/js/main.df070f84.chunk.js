(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{276:function(e){e.exports={contractName:"PermaURLStorage",abi:[{constant:!1,inputs:[{name:"hashedURL",type:"bytes32"},{name:"fullURL",type:"bytes"}],name:"set",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"hashedURL",type:"bytes32"}],name:"get",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"}],bytecode:"0x608060405234801561001057600080fd5b50610424806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680638eaa6ac014610051578063aac438c0146100fb575b600080fd5b34801561005d57600080fd5b506100806004803603810190808035600019169060200190929190505050610172565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100c05780820151818401526020810190506100a5565b50505050905090810190601f1680156100ed5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561010757600080fd5b506101706004803603810190808035600019169060200190929190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061022e565b005b606060008083600019166000191681526020019081526020016000208054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102225780601f106101f757610100808354040283529160200191610222565b820191906000526020600020905b81548152906001019060200180831161020557829003601f168201915b50505050509050919050565b60008060008460001916600019168152602001908152602001600020805460018160011615610100020316600290049050141515610320576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260488152602001807f68617368656455524c20697320616c72656164792070726573656e742c20706c81526020017f656173652063616c6c202e6765742868617368656455524c2920746f2063686581526020017f636b20666972737400000000000000000000000000000000000000000000000081525060600191505060405180910390fd5b806000808460001916600019168152602001908152602001600020908051906020019061034e929190610353565b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061039457805160ff19168380011785556103c2565b828001600101855582156103c2579182015b828111156103c15782518255916020019190600101906103a6565b5b5090506103cf91906103d3565b5090565b6103f591905b808211156103f15760008160009055506001016103d9565b5090565b905600a165627a7a7230582080865b18b6b5ae4e8d4b0e939bfcd4a714ad596143032a8e3caa86202f3f48610029",deployedBytecode:"0x60806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680638eaa6ac014610051578063aac438c0146100fb575b600080fd5b34801561005d57600080fd5b506100806004803603810190808035600019169060200190929190505050610172565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100c05780820151818401526020810190506100a5565b50505050905090810190601f1680156100ed5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561010757600080fd5b506101706004803603810190808035600019169060200190929190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061022e565b005b606060008083600019166000191681526020019081526020016000208054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102225780601f106101f757610100808354040283529160200191610222565b820191906000526020600020905b81548152906001019060200180831161020557829003601f168201915b50505050509050919050565b60008060008460001916600019168152602001908152602001600020805460018160011615610100020316600290049050141515610320576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260488152602001807f68617368656455524c20697320616c72656164792070726573656e742c20706c81526020017f656173652063616c6c202e6765742868617368656455524c2920746f2063686581526020017f636b20666972737400000000000000000000000000000000000000000000000081525060600191505060405180910390fd5b806000808460001916600019168152602001908152602001600020908051906020019061034e929190610353565b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061039457805160ff19168380011785556103c2565b828001600101855582156103c2579182015b828111156103c15782518255916020019190600101906103a6565b5b5090506103cf91906103d3565b5090565b6103f591905b808211156103f15760008160009055506001016103d9565b5090565b905600a165627a7a7230582080865b18b6b5ae4e8d4b0e939bfcd4a714ad596143032a8e3caa86202f3f48610029",sourceMap:"26:587:0:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;26:587:0;;;;;;;",deployedSourceMap:"26:587:0:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;486:125;;8:9:-1;5:2;;;30:1;27;20:12;5:2;486:125:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;486:125:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;106:376;;8:9:-1;5:2;;;30:1;27;20:12;5:2;106:376:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;486:125;539:5;583:13;:24;597:9;583:24;;;;;;;;;;;;;;;;;576:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;486:125;;;:::o;106:376::-;355:1;320:13;:24;334:9;320:24;;;;;;;;;;;;;;;;;:31;;;;;;;;;;;;;;;;:36;259:180;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;471:7;444:13;:24;458:9;444:24;;;;;;;;;;;;;;;;;:34;;;;;;;;;;;;:::i;:::-;;106:376;;:::o;26:587::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o",source:'pragma solidity ^0.4.24;\n\ncontract PermaURLStorage {\n\n\tmapping(bytes32 => bytes) private hashToFullURL;\n\n\tfunction set(bytes32 hashedURL, bytes fullURL) public {\n\t\t// callers should first invoke get(hashedURL) to ensure\n\t\t// this key is not already present\n\t\trequire(\n\t\t\t// TODO savil. More efficient check for this?\n\t\t\thashToFullURL[hashedURL].length == 0,\n\t\t\t"hashedURL is already present, please call .get(hashedURL) to check first"\n\t\t);\n\n\t\thashToFullURL[hashedURL] = fullURL;\n\t}\n\n  function get(bytes32 hashedURL) public view returns (bytes) {\n\t\t// returns 0x0 if empty\n\t\treturn hashToFullURL[hashedURL];\n\t}\n}\n',sourcePath:"/Users/savil/code/permaurl/contracts/PermaURLStorage.sol",ast:{absolutePath:"/Users/savil/code/permaurl/contracts/PermaURLStorage.sol",exportedSymbols:{PermaURLStorage:[42]},id:43,nodeType:"SourceUnit",nodes:[{id:1,literals:["solidity","^","0.4",".24"],nodeType:"PragmaDirective",src:"0:24:0"},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:null,fullyImplemented:!0,id:42,linearizedBaseContracts:[42],name:"PermaURLStorage",nodeType:"ContractDefinition",nodes:[{constant:!1,id:5,name:"hashToFullURL",nodeType:"VariableDeclaration",scope:42,src:"55:47:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes)"},typeName:{id:4,keyType:{id:2,name:"bytes32",nodeType:"ElementaryTypeName",src:"63:7:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"55:25:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes)"},valueType:{id:3,name:"bytes",nodeType:"ElementaryTypeName",src:"74:5:0",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}}},value:null,visibility:"private"},{body:{id:28,nodeType:"Block",src:"160:322:0",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:18,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:13,name:"hashToFullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"320:13:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes storage ref)"}},id:15,indexExpression:{argumentTypes:null,id:14,name:"hashedURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"334:9:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"320:24:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},id:16,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"320:31:0",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:17,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"355:1:0",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"320:36:0",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"68617368656455524c20697320616c72656164792070726573656e742c20706c656173652063616c6c202e6765742868617368656455524c2920746f20636865636b206669727374",id:19,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"361:74:0",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_dc4ff7db00186a8322eac9f3a0e3f83338a56673cffab134fccd77bf31d89785",typeString:'literal_string "hashedURL is already present, please call .get(hashedURL) to check first"'},value:"hashedURL is already present, please call .get(hashedURL) to check first"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_dc4ff7db00186a8322eac9f3a0e3f83338a56673cffab134fccd77bf31d89785",typeString:'literal_string "hashedURL is already present, please call .get(hashedURL) to check first"'}],id:12,name:"require",nodeType:"Identifier",overloadedDeclarations:[60,61],referencedDeclaration:61,src:"259:7:0",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:20,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"259:180:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:21,nodeType:"ExpressionStatement",src:"259:180:0"},{expression:{argumentTypes:null,id:26,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:22,name:"hashToFullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"444:13:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes storage ref)"}},id:24,indexExpression:{argumentTypes:null,id:23,name:"hashedURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"458:9:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"444:24:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:25,name:"fullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9,src:"471:7:0",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}},src:"444:34:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},id:27,nodeType:"ExpressionStatement",src:"444:34:0"}]},documentation:null,id:29,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"set",nodeType:"FunctionDefinition",parameters:{id:10,nodeType:"ParameterList",parameters:[{constant:!1,id:7,name:"hashedURL",nodeType:"VariableDeclaration",scope:29,src:"119:17:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:6,name:"bytes32",nodeType:"ElementaryTypeName",src:"119:7:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:9,name:"fullURL",nodeType:"VariableDeclaration",scope:29,src:"138:13:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:8,name:"bytes",nodeType:"ElementaryTypeName",src:"138:5:0",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"118:34:0"},payable:!1,returnParameters:{id:11,nodeType:"ParameterList",parameters:[],src:"160:0:0"},scope:42,src:"106:376:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:40,nodeType:"Block",src:"546:65:0",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:36,name:"hashToFullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"583:13:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes storage ref)"}},id:38,indexExpression:{argumentTypes:null,id:37,name:"hashedURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:31,src:"597:9:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"583:24:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},functionReturnParameters:35,id:39,nodeType:"Return",src:"576:31:0"}]},documentation:null,id:41,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"get",nodeType:"FunctionDefinition",parameters:{id:32,nodeType:"ParameterList",parameters:[{constant:!1,id:31,name:"hashedURL",nodeType:"VariableDeclaration",scope:41,src:"499:17:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:30,name:"bytes32",nodeType:"ElementaryTypeName",src:"499:7:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"498:19:0"},payable:!1,returnParameters:{id:35,nodeType:"ParameterList",parameters:[{constant:!1,id:34,name:"",nodeType:"VariableDeclaration",scope:41,src:"539:5:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:33,name:"bytes",nodeType:"ElementaryTypeName",src:"539:5:0",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"538:7:0"},scope:42,src:"486:125:0",stateMutability:"view",superFunction:null,visibility:"public"}],scope:43,src:"26:587:0"}],src:"0:614:0"},legacyAST:{absolutePath:"/Users/savil/code/permaurl/contracts/PermaURLStorage.sol",exportedSymbols:{PermaURLStorage:[42]},id:43,nodeType:"SourceUnit",nodes:[{id:1,literals:["solidity","^","0.4",".24"],nodeType:"PragmaDirective",src:"0:24:0"},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:null,fullyImplemented:!0,id:42,linearizedBaseContracts:[42],name:"PermaURLStorage",nodeType:"ContractDefinition",nodes:[{constant:!1,id:5,name:"hashToFullURL",nodeType:"VariableDeclaration",scope:42,src:"55:47:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes)"},typeName:{id:4,keyType:{id:2,name:"bytes32",nodeType:"ElementaryTypeName",src:"63:7:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"55:25:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes)"},valueType:{id:3,name:"bytes",nodeType:"ElementaryTypeName",src:"74:5:0",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}}},value:null,visibility:"private"},{body:{id:28,nodeType:"Block",src:"160:322:0",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:18,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:13,name:"hashToFullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"320:13:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes storage ref)"}},id:15,indexExpression:{argumentTypes:null,id:14,name:"hashedURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"334:9:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"320:24:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},id:16,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"320:31:0",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:17,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"355:1:0",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"320:36:0",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"68617368656455524c20697320616c72656164792070726573656e742c20706c656173652063616c6c202e6765742868617368656455524c2920746f20636865636b206669727374",id:19,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"361:74:0",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_dc4ff7db00186a8322eac9f3a0e3f83338a56673cffab134fccd77bf31d89785",typeString:'literal_string "hashedURL is already present, please call .get(hashedURL) to check first"'},value:"hashedURL is already present, please call .get(hashedURL) to check first"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_dc4ff7db00186a8322eac9f3a0e3f83338a56673cffab134fccd77bf31d89785",typeString:'literal_string "hashedURL is already present, please call .get(hashedURL) to check first"'}],id:12,name:"require",nodeType:"Identifier",overloadedDeclarations:[60,61],referencedDeclaration:61,src:"259:7:0",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:20,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"259:180:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:21,nodeType:"ExpressionStatement",src:"259:180:0"},{expression:{argumentTypes:null,id:26,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:22,name:"hashToFullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"444:13:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes storage ref)"}},id:24,indexExpression:{argumentTypes:null,id:23,name:"hashedURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"458:9:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"444:24:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:25,name:"fullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9,src:"471:7:0",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}},src:"444:34:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},id:27,nodeType:"ExpressionStatement",src:"444:34:0"}]},documentation:null,id:29,implemented:!0,isConstructor:!1,isDeclaredConst:!1,modifiers:[],name:"set",nodeType:"FunctionDefinition",parameters:{id:10,nodeType:"ParameterList",parameters:[{constant:!1,id:7,name:"hashedURL",nodeType:"VariableDeclaration",scope:29,src:"119:17:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:6,name:"bytes32",nodeType:"ElementaryTypeName",src:"119:7:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:9,name:"fullURL",nodeType:"VariableDeclaration",scope:29,src:"138:13:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:8,name:"bytes",nodeType:"ElementaryTypeName",src:"138:5:0",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"118:34:0"},payable:!1,returnParameters:{id:11,nodeType:"ParameterList",parameters:[],src:"160:0:0"},scope:42,src:"106:376:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:40,nodeType:"Block",src:"546:65:0",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:36,name:"hashToFullURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"583:13:0",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes_storage_$",typeString:"mapping(bytes32 => bytes storage ref)"}},id:38,indexExpression:{argumentTypes:null,id:37,name:"hashedURL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:31,src:"597:9:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"583:24:0",typeDescriptions:{typeIdentifier:"t_bytes_storage",typeString:"bytes storage ref"}},functionReturnParameters:35,id:39,nodeType:"Return",src:"576:31:0"}]},documentation:null,id:41,implemented:!0,isConstructor:!1,isDeclaredConst:!0,modifiers:[],name:"get",nodeType:"FunctionDefinition",parameters:{id:32,nodeType:"ParameterList",parameters:[{constant:!1,id:31,name:"hashedURL",nodeType:"VariableDeclaration",scope:41,src:"499:17:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:30,name:"bytes32",nodeType:"ElementaryTypeName",src:"499:7:0",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"498:19:0"},payable:!1,returnParameters:{id:35,nodeType:"ParameterList",parameters:[{constant:!1,id:34,name:"",nodeType:"VariableDeclaration",scope:41,src:"539:5:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:33,name:"bytes",nodeType:"ElementaryTypeName",src:"539:5:0",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"538:7:0"},scope:42,src:"486:125:0",stateMutability:"view",superFunction:null,visibility:"public"}],scope:43,src:"26:587:0"}],src:"0:614:0"},compiler:{name:"solc",version:"0.4.24+commit.e67f0147.Emscripten.clang"},networks:{3:{events:{},links:{},address:"0xdd641c6a013d2261fcf8278eb1a5b2b74fbb0411",transactionHash:"0x04175ddc9d15f38c8d5daf51df7023d06c49e3d156cf34a671572d3a163dc1fa"},5778:{events:{},links:{},address:"0x2f573a53380f91214e31b1b9908dcf5f30aac6d5",transactionHash:"0xee5f9ba934067805264733a310bf3dafc48d6ac375181b315e382971eab14a3b"}},schemaVersion:"2.0.1",updatedAt:"2018-12-21T19:29:59.310Z"}},278:function(e,t,n){e.exports=n(765)},358:function(e,t){},360:function(e,t){},420:function(e,t){},421:function(e,t){},589:function(e,t){},593:function(e,t){},757:function(e,t,n){},759:function(e,t,n){},761:function(e,t,n){},763:function(e,t,n){},765:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(272),i=n.n(s),o=n(28),c=n(66),u=n(4),l=n.n(u),p=n(11),d=n(19),y=n(25),b=n(21),f=n(12),m=n(20),h="FULL_URL_CHANGED",g="MODAL_ACCEPT_PRESSED",_="MODAL_CANCEL_PRESSED",T="ON_CUSTOM_HASH_CHECK_IS_RESOLVED",S="ON_HASH_INPUT_CHANGE",E="ON_SAVED_HASH_TO_ETHEREUM",v="ON_SENDING_HASH_TO_ETHEREUM",D="SET_BACKING_STORE",R="SET_OPTIONS_VISIBILITY",I="SHOW_METAMASK_DIALOG",k="UPDATE_MESSAGE",L="UPDATE_WEB3_STATE";function O(e){return{type:k,kind:e}}var N,w=n(85),x=n(277),A=function(e){function t(e){var n;return Object(d.a)(this,t),n=Object(b.a)(this,Object(f.a)(t).call(this,e)),Object.setPrototypeOf(Object(w.a)(Object(w.a)(n)),(this instanceof t?this.constructor:void 0).prototype),n}return Object(m.a)(t,e),t}(Object(x.a)(Error)),H={accounts:null,contract:null,web3:null};!function(e){e.CHECKING_AVAILABILITY="CHECKING_AVAILABILITY",e.EMPTY_URL="EMPTY_URL",e.ERROR_SENDING_TO_ETHEREUM="ERROR_SENDING_TO_ETHEREUM",e.FAILED_TO_GENERATE_HASH="FAILED_TO_GENERATE_HASH",e.INSTALL_METAMASK="INSTALL_METAMASK",e.HASH_TAKEN_TRY_ANOTHER="HASH_TAKEN_TRY_ANOTHER",e.HASHED_URL_WITH_COPY="HASHED_URL_WITH_COPY",e.NONE="NONE",e.SENDING_TO_ETHEREUM="SENDING_TO_ETHEREUM",e.SHORT_URL_PREVIEW="SHORT_URL_PREVIEW"}(N||(N={}));var C,U={customHash:"",fullURL:"",isSubmitEnabled:!0,customHashTimeoutID:void 0};!function(e){e.MAINNET="MAINNET",e.ROPSTEN="ROPSTEN"}(C||(C={}));var V={isVisible:!1,backingStore:C.ROPSTEN},P={formState:U,isMetamaskDialogVisible:!1,isSpinnerNeeded:!1,messageKind:N.NONE,optionsState:V,savedHash:null,web3State:H};function M(e,t){return window.location.protocol+"//"+window.location.host+"/#"+function(e){switch(e){case C.MAINNET:return"m";case C.ROPSTEN:return"r"}}(t)+"/"+e}function j(e){switch(e[1]){case"m":return C.MAINNET;case"r":return C.ROPSTEN;default:return null}}var $=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Message-container"}," ",this.getMessageInternals()," ")}},{key:"getMessageInternals",value:function(){switch(this.props.messageKind){case N.CHECKING_AVAILABILITY:return a.a.createElement("p",null," checking if /",this.props.customHash," is available.");case N.HASH_TAKEN_TRY_ANOTHER:return a.a.createElement("p",null,"/",this.props.customHash," has already been taken. Please try another one.");case N.SHORT_URL_PREVIEW:return a.a.createElement("p",null,"your shortened url will be:",a.a.createElement("br",null),M(this.props.customHash,this.props.backingStore),a.a.createElement("br",null));case N.EMPTY_URL:return a.a.createElement("p",null,"yo! please enter a full url in the box.");case N.INSTALL_METAMASK:return a.a.createElement("p",null,"Alas, looks like you will need to install ",a.a.createElement("a",{href:"https://metamask.io",rel:"noopener noreferrer",target:"_blank"},"Metamask"),". This lets us save your URL securely.");case N.SENDING_TO_ETHEREUM:return a.a.createElement("p",null,"Alrighty, saving on ethereum. Will take around 20 seconds. ",function(){var e=["Be patient, and hold your horses!","Close your eyes and think about your first true love!","A good time to step back, and do some stretches!","But if you stare real hard, it'll happen faster! Promise ;-)","Close your eyes, and meditate on the sounds around you!","Close your eyes, and meditate on your breathing!","A test of your will power is commencing. Try your best to not switch to reddit or twitter!"],t=Math.floor(Math.random()*e.length);return e[t]}());case N.HASHED_URL_WITH_COPY:var e=null===this.props.savedHash?"":M(this.props.savedHash,this.props.backingStore);return a.a.createElement("p",null,e,"\xa0 \xa0 \xa0 \xa0 (",a.a.createElement("a",{className:"App-link",onClick:function(){return function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=document.getSelection(),r=null!==n&&n.rangeCount>0&&n.getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&null!==n&&(n.removeAllRanges(),n.addRange(r))}(e)}},"copy"),")");case N.FAILED_TO_GENERATE_HASH:return a.a.createElement("p",null,'"Failed to generate a suitable hash! Bummer."');case N.ERROR_SENDING_TO_ETHEREUM:return a.a.createElement("p",null,'"There was an error saving on ethereum. Sad puppy :-("');case N.NONE:default:return null}}}]),t}(r.Component);var F,B=Object(o.b)(function(e){return{backingStore:e.optionsState.backingStore,customHash:e.formState.customHash,savedHash:e.savedHash,messageKind:e.messageKind}},function(e){return{}})($),K=n(274),W=n.n(K);!function(e){e.MAINNET="mainnet",e.ROPSTEN="ropsten",e.LOCALHOST="localhost"}(F||(F={}));var q=n(86),G=n.n(q),Y=n(275),z=n.n(Y),J=function(){var e=Object(p.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"truth project dilemma ramp hint dream custom produce country skate search view",n=t===F.ROPSTEN?"https://ropsten.infura.io/v3/cb7d847147034deab366ab3169602261":"https://mainnet.infura.io/v3/cb7d847147034deab366ab3169602261",r=new z.a("truth project dilemma ramp hint dream custom produce country skate search view",n),e.abrupt("return",new G.a(r));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(l.a.mark(function e(t){var n,r,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=7;break}return n=new G.a(window.ethereum),e.next=4,window.ethereum.enable();case 4:return e.abrupt("return",n);case 7:if(!window.web3){e.next=12;break}return r=window.web3,e.abrupt("return",r);case 12:if(t!==F.LOCALHOST){e.next=18;break}return a=new G.a.providers.HttpProvider("http://127.0.0.1:9545"),s=new G.a(a),e.abrupt("return",s);case 18:throw new A("no web3 provider found");case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Q=n(276),X=(F.ROPSTEN,{READ_ONLY:"read_only",READ_WRITE:"read_write"}),ee={MAINNET_ADDRESS:"0xf0625cF19647fe7689Bc7b0B8C54aFFb71d94cb3",ROPSTEN_ADDRESS:"0x0c72eb3f9ad6c762c17adae11ffd2458ce533ef4"};function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(p.a)(l.a.mark(function e(t,n){var r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(X.READ_ONLY,n);case 2:if(null!==(r=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,r.contract.get.call(r.web3.utils.asciiToHex(t));case 7:if(null!==(a=e.sent)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",r.web3.utils.toAscii(a));case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function re(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(p.a)(l.a.mark(function e(t,n){var r,a,s,i,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=se(n),e.prev=1,t!==X.READ_ONLY){e.next=8;break}return e.next=5,J(r);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Z(r);case 10:e.t0=e.sent;case 11:if(a=e.t0,s=null,t!==X.READ_WRITE){e.next=17;break}return e.next=16,a.eth.getAccounts();case 16:s=e.sent;case 17:if((i=W()(Q)).setProvider(a.currentProvider),o=null,r!==F.MAINNET){e.next=26;break}return e.next=23,i.at(ee.MAINNET_ADDRESS);case 23:o=e.sent,e.next=29;break;case 26:return e.next=28,i.at(ee.ROPSTEN_ADDRESS);case 28:o=e.sent;case 29:return e.abrupt("return",{web3:a,accounts:s,contract:o});case 32:throw e.prev=32,e.t1=e.catch(1),console.log(e.t1),e.t1;case 36:case"end":return e.stop()}},e,this,[[1,32]])}))).apply(this,arguments)}function se(e){switch(e){case C.MAINNET:return F.MAINNET;case C.ROPSTEN:return F.ROPSTEN}}var ie=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},a.a.createElement("input",{className:"fullURLInput",onChange:this.onFullURLChange.bind(this),placeholder:"enter full url here",type:"text"}),a.a.createElement("input",{className:"customHashInput",onChange:this.onHashInputChange.bind(this),placeholder:"(optional) specify your vanity url",type:"text"}),a.a.createElement("br",null),a.a.createElement("input",{disabled:!this.props.formState.isSubmitEnabled,className:"fullURLSubmit",type:"submit",value:"submit"}))}},{key:"onFullURLChange",value:function(e){e.preventDefault(),this.props.onFullURLChange(e.currentTarget.value)}},{key:"onSubmit",value:function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.props.formState.fullURL){e.next=4;break}return this.props.updateMessage(N.EMPTY_URL),e.abrupt("return");case 4:this.props.showMetamaskDialog();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onHashInputChange",value:function(){var e=Object(p.a)(l.a.mark(function e(t){var n,r,a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==this.props.formState.customHashTimeoutID&&clearTimeout(this.props.formState.customHashTimeoutID),""!==(n=t.currentTarget.value)){e.next=6;break}return this.props.onHashInputChange({customHash:n,customHashTimeoutID:void 0,isSpinnerNeeded:!1,isSubmitEnabled:!0,messageKind:N.NONE}),e.abrupt("return");case 6:return r=setTimeout(Object(p.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.onHashInputChangeImpl(n));case 1:case"end":return e.stop()}},e,this)})),200),this.props.onHashInputChange({customHash:n,customHashTimeoutID:r,isSpinnerNeeded:!0,isSubmitEnabled:!1,messageKind:N.CHECKING_AVAILABILITY}),e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onHashInputChangeImpl",value:function(){var e=Object(p.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=this.props.formState.customHashTimeoutID)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.isHashTaken(t);case 5:if(r=e.sent,n===this.props.formState.customHashTimeoutID){e.next=8;break}return e.abrupt("return");case 8:if(!r){e.next=11;break}return this.props.onCustomHashCheckIsResolved({customHash:t,customHashTimeoutID:void 0,isSpinnerNeeded:!1,isSubmitEnabled:!1,messageKind:N.HASH_TAKEN_TRY_ANOTHER}),e.abrupt("return");case 11:this.props.onCustomHashCheckIsResolved({customHash:t,customHashTimeoutID:void 0,isSpinnerNeeded:!1,isSubmitEnabled:!0,messageKind:N.SHORT_URL_PREVIEW});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isHashTaken",value:function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,this.props.backingStore);case 2:return e.t0=e.sent,e.abrupt("return",null!==e.t0);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(r.Component);var oe=Object(o.b)(function(e){return{backingStore:e.optionsState.backingStore,formState:e.formState}},function(e){return{onCustomHashCheckIsResolved:function(t){return e(function(e){return{type:T,payload:e}}(t))},onFullURLChange:function(t){return e(function(e){return{type:h,text:e}}(t))},onHashInputChange:function(t){return e(function(e){return{type:S,payload:e}}(t))},showMetamaskDialog:function(){return e({type:I})},updateMessage:function(t){return e(O(t))}}})(ie),ce=(n(757),function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).state={isVisible:n.props.isVisible},n}return Object(m.a)(t,e),Object(y.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.isVisible!==this.props.isVisible&&this.setState({isVisible:e.isVisible})}},{key:"render",value:function(){var e={display:this.state.isVisible?"block":"none"};return a.a.createElement("div",{className:"ModalDialogOverlay",onClick:this.onOverlayClicked.bind(this),style:e},a.a.createElement("div",{className:"ModalDialogContainer"},a.a.createElement("div",null,this.props.children),a.a.createElement("button",{className:"Accept",onClick:this.onAcceptButtonClicked.bind(this)},"Sounds good"),a.a.createElement("button",{onClick:this.onCancelButtonClicked.bind(this)},"Cancel")))}},{key:"onOverlayClicked",value:function(e){this.closeDialog(e)}},{key:"onCancelButtonClicked",value:function(e){this.closeDialog(e)}},{key:"onAcceptButtonClicked",value:function(e){this.closeDialog(e),this.props.onAcceptButtonClicked()}},{key:"closeDialog",value:function(e){e.preventDefault(),this.props.dialogShouldClose()}}]),t}(r.Component)),ue=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement(ce,{isVisible:this.props.isVisible,onAcceptButtonClicked:this.props.onAcceptButtonClicked,dialogShouldClose:this.props.onDialogShouldClose},"Next, Metamask will open a dialog.",a.a.createElement("br",null),a.a.createElement("br",null),"You will be asked to confirm the transaction for saving your URL to ethereum's blockchain.",a.a.createElement("br",null),a.a.createElement("br",null))}}]),t}(r.Component),le=Object(o.b)()(ue),pe=function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return this.props.optionsState.isVisible?a.a.createElement("div",null,a.a.createElement("a",{onClick:this.doHideOptions.bind(this)}," Hide Options "),a.a.createElement("div",null,"Storage:",a.a.createElement("select",{onChange:this.onStorageOptionChange.bind(this)},a.a.createElement("option",{value:C.MAINNET},"Mainnet (real ethereum) "),a.a.createElement("option",{selected:!0,value:C.ROPSTEN},"Ropsten (fake ethereum, costs nothing to try) ")))):a.a.createElement("div",null,a.a.createElement("a",{onClick:this.doShowOptions.bind(this)}," Show Options "))}},{key:"doShowOptions",value:function(e){e.preventDefault(),this.props.setOptionsVisibility(!0)}},{key:"doHideOptions",value:function(e){e.preventDefault(),this.props.setOptionsVisibility(!1)}},{key:"onStorageOptionChange",value:function(e){e.preventDefault(),this.props.setBackingStore(e.currentTarget.value)}}]),t}(r.Component);var de=Object(o.b)(function(e){return{optionsState:e.optionsState}},function(e){return{setOptionsVisibility:function(t){return e(function(e){return{type:R,doShow:e}}(t))},setBackingStore:function(t){return e(function(e){return{type:D,newStore:e}}(t))}}})(pe),ye=(n(759),function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){for(var e=[],t=this.props,n=0;n<12;n++){var r={};r.WebkitAnimationDelay=r.animationDelay=(n-12)/10+"s",r.WebkitTransform=r.transform="rotate("+30*n+"deg) translate(146%)",e.push(a.a.createElement("div",{style:r,className:"react-spinner_bar",key:n}))}return a.a.createElement("div",Object.assign({},t,{className:(t.className||"")+" react-spinner"}),e)}}]),t}(a.a.Component)),be=(n(761),function(e){function t(){return Object(d.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){var e=Object(p.a)(l.a.mark(function e(){var t,n,r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.title="CrispLink: shorten that link!",!((t=window.location.hash).length<=3)){e.next=4;break}return e.abrupt("return");case 4:if("/"===t[2]){e.next=6;break}return e.abrupt("return");case 6:if(null!==(n=j(t))){e.next=9;break}return e.abrupt("return");case 9:return r=t.substring(3),e.next=12,te(r,n);case 12:if(null!==(a=e.sent)){e.next=15;break}return e.abrupt("return");case 15:window.location.href=(s=a).match(/^http?:\/\//i)||s.match(/^https?:\/\//i)?s:"https://"+s;case 16:case"end":return e.stop()}var s},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(le,{isVisible:this.props.isMetamaskDialogVisible,onAcceptButtonClicked:this.onMetamaskDialogAcceptClicked.bind(this),onDialogShouldClose:this.props.onMetamaskDialogShouldClose}),a.a.createElement(oe,null),a.a.createElement(de,null),a.a.createElement(B,null),a.a.createElement("div",null," ",this.props.isSpinnerNeeded?a.a.createElement(ye,null):null," ")))}},{key:"onMetamaskDialogAcceptClicked",value:function(){var e=Object(p.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.onMetamaskDialogAcceptClicked(),e.prev=1,e.next=4,this.initWeb3();case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(e.t0 instanceof A)){e.next=11;break}return this.props.updateMessage(N.INSTALL_METAMASK),e.abrupt("return");case 11:if(""!==(t=this.props.formState.customHash)&&null!==t){e.next=19;break}return e.next=15,this.hashFullURL(this.props.formState.fullURL);case 15:if(null!==(n=e.sent)){e.next=18;break}return e.abrupt("return");case 18:t=n;case 19:return e.next=21,this.saveToEthereum(t);case 21:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"initWeb3",value:function(){var e=Object(p.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.props.web3State.web3){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,re(X.READ_WRITE,this.props.backingStore);case 4:if(null!==(t=e.sent)){e.next=7;break}return e.abrupt("return");case 7:this.props.updateWeb3State({web3:t.web3,accounts:t.accounts,contract:t.contract});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"hashFullURL",value:function(){var e=Object(p.a)(l.a.mark(function e(t){var n,r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sha256(t);case 2:n=e.sent,r=0;case 4:if(!(r<10)){e.next=14;break}return a=n.substring(0,3+r),e.next=8,this.props.web3State.contract.get.call(this.props.web3State.web3.utils.fromAscii(a));case 8:if(null!==e.sent){e.next=11;break}return e.abrupt("return",a);case 11:r++,e.next=4;break;case 14:return this.props.updateMessage(N.FAILED_TO_GENERATE_HASH),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sha256",value:function(){var e=Object(p.a)(l.a.mark(function e(t){var n,r,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t+Date.now()),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),s=a.map(function(e){return("00"+e.toString(16)).slice(-2)}).join(""),e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveToEthereum",value:function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.onSendingHashToEthereum({messageKind:N.SENDING_TO_ETHEREUM,isSpinnerNeeded:!0}),e.prev=1,e.next=4,this.props.web3State.contract.set(this.props.web3State.web3.utils.asciiToHex(t),this.props.web3State.web3.utils.asciiToHex(this.props.formState.fullURL),{from:this.props.web3State.accounts[0]});case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),console.error(e.t0),this.props.onSendingHashToEthereum({messageKind:N.ERROR_SENDING_TO_ETHEREUM,isSpinnerNeeded:!1}),e.abrupt("return");case 11:this.props.onSavedHashToEthereum({isSpinnerNeeded:!1,messageKind:N.HASHED_URL_WITH_COPY,savedHash:t});case 12:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()}]),t}(r.Component));var fe=Object(o.b)(function(e){return{backingStore:e.optionsState.backingStore,formState:e.formState,isMetamaskDialogVisible:e.isMetamaskDialogVisible,isSpinnerNeeded:e.isSpinnerNeeded,web3State:e.web3State}},function(e){return{onMetamaskDialogShouldClose:function(){return e({type:_})},onMetamaskDialogAcceptClicked:function(){return e({type:g})},updateWeb3State:function(t){return e(function(e){return{type:L,web3State:e}}(t))},updateMessage:function(t){return e(O(t))},onSendingHashToEthereum:function(t){return e(function(e){return{type:v,payload:e}}(t))},onSavedHashToEthereum:function(t){return e(function(e){return{type:E,payload:e}}(t))}}})(be),me=n(69);var he=Object(c.b)({formState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(me.a)({},e,{fullURL:t.text});case S:var n=t;return Object(me.a)({},e,{customHashTimeoutID:n.payload.customHashTimeoutID,customHash:n.payload.customHash,isSubmitEnabled:n.payload.isSubmitEnabled});case T:var r=t;return Object(me.a)({},e,{customHash:r.payload.customHash,customHashTimeoutID:r.payload.customHashTimeoutID,isSubmitEnabled:r.payload.isSubmitEnabled});default:return e}},isMetamaskDialogVisible:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case g:case _:return!1;case I:return!0;default:return e}},isSpinnerNeeded:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:case T:case E:case v:return t.payload.isSpinnerNeeded;default:return e}},messageKind:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.NONE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:case T:case E:case v:return t.payload.messageKind;case k:return t.kind;default:return e}},optionsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(me.a)({},e,{isVisible:t.doShow});case D:return Object(me.a)({},e,{backingStore:t.newStore});default:return e}},savedHash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload.savedHash;default:return e}},web3State:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return t.web3State;default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(763);var ge=Object(c.c)(he,P);i.a.render(a.a.createElement(o.a,{store:ge},a.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[278,2,1]]]);
//# sourceMappingURL=main.df070f84.chunk.js.map